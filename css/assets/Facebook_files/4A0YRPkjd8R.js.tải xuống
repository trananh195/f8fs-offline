;/*FB_PKG_DELIM*/

__d("CometComposerUnifiedInterceptionPluginForDraftJS_intercepts.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometComposerUnifiedInterceptionPluginForDraftJS_intercepts",selections:[{alias:null,args:null,concreteType:"ComposerInterception",kind:"LinkedField",name:"composer_interception",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometComposerUnifiedInterceptors_intercept_configs"}],storageKey:null}],type:"User",abstractKey:null};e.exports=a}),null);
__d("CometComposerWithWhatsAppDeeplinkPlugin_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometComposerWithWhatsAppDeeplinkPlugin_page",selections:[{alias:"page_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"connected_whatsapp_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"connected_whatsapp_number_country_prefix",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"connected_whatsapp_number_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"whatsapp_display_number",storageKey:null}],type:"Page",abstractKey:null};e.exports=a}),null);
__d("getActiveFooterAttachmentTranform",["CometComposerFooterAttachmentPluginTypes","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return null;switch(a){case d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GROUP_WELCOME_POST:return c("JSResourceForInteraction")("groupsWelcomePostTransform").__setRef("getActiveFooterAttachmentTranform");case d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.NONPROFIT:return c("JSResourceForInteraction")("fundraiserForStoryTransform").__setRef("getActiveFooterAttachmentTranform");case d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.PRAYER:return c("JSResourceForInteraction")("composerPrayerTransform").__setRef("getActiveFooterAttachmentTranform");case d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.ROOM:return c("JSResourceForInteraction")("composerRoomTransform").__setRef("getActiveFooterAttachmentTranform");case d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.CALL_NOW:return c("JSResourceForInteraction")("composerCallNowTransform").__setRef("getActiveFooterAttachmentTranform");case d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_WHATSAPP_MESSAGES:return c("JSResourceForInteraction")("composerGetWhatsAppMessagesTransform").__setRef("getActiveFooterAttachmentTranform");case d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.SEND_UPDATES:return c("JSResourceForInteraction")("composerSendUpdatesTransform").__setRef("getActiveFooterAttachmentTranform");case d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_MESSAGES:case d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.FISHBOWL:case d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.MULTILINGUAL:return null}}g["default"]=a}),98);
__d("useCometComposerDecorator",["CometComposerPluginsDispatchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=i(c("CometComposerPluginsDispatchContext"));j(function(){b({decorator:a,type:"install_decorator"});return function(){return b({decorator:a,type:"uninstall_decorator"})}},[a,b])}g["default"]=a}),98);
__d("composerFooterAttachmentAreaFeedTransform",["getActiveFooterAttachmentTranform","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){var e;e=(e=a.footerAttachmentArea)==null?void 0:e.activeFooterAttachmentType;e=c("getActiveFooterAttachmentTranform")(e);e?c("promiseDone")(e.load().then(function(c){return c(a,babelHelpers["extends"]({},b),d)})):d(b)}g["default"]=a}),98);
__d("cometComposerDelightsBlockStrategy",["UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,e){var f=a.getEntityAt(c);if(f==null)return null;b=b.getEntity(f);if(b.getType()==="DELIGHT"){f=a.getText().slice(c,e);a=b.getData();e=a.campaignID;b=a.disabled;if(b)return null;if(/^\d+$/.test(e))return{message:{ranges:[{entity:{id:e},length:(h||(h=d("UnicodeUtils"))).strlen(f),offset:c}],text:f}}}return null}g["default"]=a}),98);
__d("composerMessageFeedTransform",["cometComposerDelightsBlockStrategy","cometComposerMentionsBlockToEntity","cr:2352","emptyFunction","getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE","transformDraftEditorStateToTextWithEntities"],(function(a,b,c,d,e,f,g){"use strict";var h=(d=b("cr:2352"))!=null?d:c("emptyFunction").thatReturnsNull;function a(a,b,d){a=a.editorState;if(a==null)d(babelHelpers["extends"]({},b));else if(a.__type==="plain-text")d(babelHelpers["extends"]({},b,{message:{text:c("getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE")(a)}}));else if(a.__type==="editor-state-based"){a=a.draftEditorState;a=c("transformDraftEditorStateToTextWithEntities")(a,[c("cometComposerDelightsBlockStrategy"),c("cometComposerMentionsBlockToEntity"),h]);d(babelHelpers["extends"]({},b,{message:a}))}}g["default"]=a}),98);
__d("getHashtagRegex",["getHashtagRegexString"],(function(a,b,c,d,e,f){function a(){return new RegExp(b("getHashtagRegexString")(),"ig")}f["default"]=a}),66);
__d("getHashtagMatches",["getHashtagRegex"],(function(a,b,c,d,e,f){var g=b("getHashtagRegex")();function a(a,b){a=a.getText();var c,d,e;while((c=g.exec(a))!==null)d=c.index+c[1].length,e=c[2],c=c[3],b(d,d+e.length+c.length)}f["default"]=a}),66);
__d("useCometComposerHashtagsDecorator",["getHashtagMatches","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo,l={hashtagDefault:{backgroundColor:"xv78j7m",$$css:!0},hashtagFormattedText:{textDecoration:"x1bvjpef",$$css:!0}};function m(a){var b=a.children,d=a.hasFormattedText;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","hasFormattedText"]);a.blockKey;a.contentState;a.decoratedText;a.entityKey;a.offsetKey;a=babelHelpers.objectWithoutPropertiesLoose(a,["blockKey","contentState","decoratedText","entityKey","offsetKey"]);return j.jsx("span",babelHelpers["extends"]({},a,{className:(h||(h=c("stylex")))(!d&&l.hashtagDefault,d&&l.hashtagFormattedText),children:b}))}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.hasFormattedText;a=a.priority;var d=a===void 0?0:a;return k(function(){return{component:j.memo(m),priority:d,props:{hasFormattedText:b},strategy:c("getHashtagMatches")}},[b,d])}g["default"]=a}),98);
__d("CometComposerHashtagsPluginForDraftJS.react",["react","useCometComposerDecorator","useCometComposerHashtagsDecorator","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){a=a.hasFormattedText;c("useCometComposerDecorator")(c("useCometComposerHashtagsDecorator")({hasFormattedText:a}));return null}b=c("withComposerViewStatePart")(a,function(a){return{hasFormattedText:((a=a.formattedText)==null?void 0:a.currentFormattedTextPreset)!=null}});g["default"]=b}),98);
__d("CometMentionsBridge.react",["CometMentions.react","CometMentionsA11yContext","Keys","emptyFunction","react","recoverableViolation","useDebouncedComet","usePrevious","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useRef,n=b.useState;function a(a){var b=a.dataSourceResolverConfig.resolver,d=a.editorRef,e=a.editorState,f=a.getAnchorRef,g=a.getSearchText,h=a.layoutStrategyRenderer,o=a.loggingProvider,p=a.mentionsHandlerForSelectedEntry,q=a.onEditorStateChange,r=a.pluginsDispatcher,s=a.position;s=s===void 0?"below":s;var t=a.priority;a=a.viewStrategyRenderer;f=f();var u=c("usePrevious")(e),v=k(c("CometMentionsA11yContext")),w=v||c("emptyFunction");v==null&&c("recoverableViolation")("a11y context is not available","comet_ax");var x=m(null),y=m(!1),z=n(!1),A=z[0],B=z[1];z=n(!1);var C=z[0],D=z[1];z=n(null);var E=z[0],F=z[1];z=n(!1);var G=z[0],H=z[1],I=j(function(a){var b=x.current;switch(a){case"MentionsAutocomplete/cancel":H(!0);break;case"MentionsAutocomplete/select-mention":b&&b.select();break;case"MentionsAutocomplete/previous-mention":b&&b.moveUp();break;case"MentionsAutocomplete/next-mention":b&&b.moveDown();break}return"not-handled"},[]),J=j(function(a){var b=x.current,d=y.current;if(a.keyCode===c("Keys").ESC&&E!=null){d&&(a.preventDefault(),a.stopPropagation());return"MentionsAutocomplete/cancel"}if(b!=null&&d)switch(a.keyCode){case c("Keys").DOWN:a.preventDefault();return"MentionsAutocomplete/next-mention";case c("Keys").RETURN:if(b.hasSelection()){a.preventDefault();return"MentionsAutocomplete/select-mention"}break;case c("Keys").TAB:if(b.hasSelection()){a.preventDefault();return"MentionsAutocomplete/select-mention"}break;case c("Keys").UP:a.preventDefault();return"MentionsAutocomplete/previous-mention"}return},[E]),K=j(function(){if(d!=null&&e!=null&&e.__type==="editor-state-based"){var a=e.draftEditorState;if(a.getSelection().getHasFocus()){a=g(a);if(a!==E){B(!0);D(!1);a=a!=null&&a.length>0&&b(a)!=null?a:null;F(a);H(!1)}}else B(!1)}},[d,e,g,E,b]),L=c("useDebouncedComet")(K);l(function(){var a={handleKeyCommand:I,keyBindingFn:J,priority:t};r({handler:a,type:"install_handler"});return function(){return r({handler:a,type:"uninstall_handler"})}},[J,I,r,t]);l(function(){L();return function(){L.reset()}},[K,L]);l(function(){if(e!=null&&u!==e&&e.__type==="editor-state-based"){var a=e.draftEditorState;a=g(a);a==null||a.length===0||b(a)==null?K():L()}},[e,g,K,L,u,b]);z=j(function(a){a=p({dataSourceResolver:b,deferredEditorState:e,entry:a,onEditorStateChange:q});a&&(v!=null&&v(),B(!0),F(null))},[b,e,q,v,p]);var M=j(function(){var a=!1,b=x.current;if(b!=null){b=(b=b.getViewRef())==null?void 0:b.current;if(b!=null){var c=document.activeElement;while(c!=null){if(c===b){a=!0;break}c=c.parentNode}}}D(a)},[]),N=j(function(){D(!0)},[]),O=j(function(a){y.current=a},[]),P=j(function(a){if(a)return;v!=null&&v()},[v]);C=x.current==null?!1:C;G=!G&&E!=null&&E.length>0&&(A||C);A=b(E);C=A.dataSource;A=A.searchResult;if(G&&f!=null&&C!=null&&A!=null)return i.jsx(c("CometMentions.react"),{context:f,dataSource:C,inputElement:null,layoutStrategyRenderer:h,loggingProvider:o,onAriaChange:w,onBlur:M,onEntriesUpdated:P,onFocus:N,onSelectedEntry:z,onVisibilityChange:O,position:s,queryString:A.matchingString,ref:x,viewStrategyRenderer:a});y.current&&(v!=null&&v());y.current=!1;return null}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(a,function(a){return{editorRef:a.editorRef,editorState:a.editorState}});g["default"]=e}),98);
__d("useCometComposerMentionsAnchorDecorator",["CometComposerPluginsDispatchContext","CometErrorBoundary.react","CometMentionsBridge.react","CometMentionsLayoutStrategy.react","gkx","react","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useMemo,m=b.useRef;function n(a){var b=a.children;a.currentBlockKey;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","currentBlockKey"]);var d=k(c("CometComposerPluginsDispatchContext")),e=c("useComposerViewStateDispatcher")(),f=j(function(a){e({draftEditorState:a,type:"update_draft_editor_state"})},[e]),g=m();return i.jsxs("span",{ref:g,children:[i.jsx(c("CometMentionsBridge.react"),babelHelpers["extends"]({},a,{getAnchorRef:function(){return g.current},inputElement:null,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),onEditorStateChange:f,pluginsDispatcher:d})),b]})}n.displayName=n.name+" [from "+f.id+"]";var o={project:"gemini_composer"};function p(a){return i.jsx(c("CometErrorBoundary.react"),{context:o,fallback:function(){return a.children},children:i.jsx(n,babelHelpers["extends"]({},a))})}p.displayName=p.name+" [from "+f.id+"]";function a(a,b){return l(function(){return{component:i.memo(c("gkx")("22898")?p:n),priority:1,props:a,strategy:b.bind(null,a.dataSourceResolverConfig.resolver,a.currentBlockKey)}},[b,a])}g["default"]=a}),98);
__d("CometComposerHashtagsWithTypeaheadPlugin.react",["getHashtagMatches","useCometComposerDecorator","useCometComposerHashtagsDecorator","useCometComposerMentionsAnchorDecorator"],(function(a,b,c,d,e,f,g){"use strict";var h=["#","\\uFF03"],i=function(a,b,d,e,f){if(b!==d.getKey())return;var g=f.getSelectionAfter().getFocusOffset();c("getHashtagMatches")(d,function(b,c){if(g===c-1){c=d.getText().substring(b,c);var f=a(c);f=f.searchResult;if(f!=null){f=f.replaceableString;b=b+c.indexOf(f);e(b,b+f.length)}}});h.includes(d.getText().charAt(g))&&e(g,g+1)};function a(a){var b=a.hasFormattedText;a=babelHelpers.objectWithoutPropertiesLoose(a,["hasFormattedText"]);c("useCometComposerDecorator")(c("useCometComposerHashtagsDecorator")({hasFormattedText:b,priority:2}));c("useCometComposerDecorator")(c("useCometComposerMentionsAnchorDecorator")(a,i));return null}g["default"]=a}),98);
__d("createCometComposerHashtagsEntity",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b.createEntity("HASHTAG","SEGMENTED",{id:a})}f["default"]=a}),66);
__d("getCometComposerHashtagSearch",["getHashtagRegex"],(function(a,b,c,d,e,f,g){"use strict";var h=["#","\\uFF03"];function a(a){a=a.getCurrentContent();var b=a.getSelectionAfter(),d=b.getAnchorKey();a=a.getBlockForKey(d);d=a.getText().substring(0,b.getFocusOffset());if(h.includes(d.charAt(b.getFocusOffset()-1)))return d.charAt(b.getFocusOffset()-1);a=new RegExp(c("getHashtagRegex")());b=a.exec(d);var e;while((e=a.exec(d))!=null)b=e;return b!=null?b[0]:null}g["default"]=a}),98);
__d("breakingNewsReducer",["composerAttachmentAreaReducer"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a.breakingNews;a=babelHelpers.objectWithoutPropertiesLoose(a,["breakingNews"]);var e=c==null?void 0:c.breakingNewsEditStartTime;switch(b.type){case"ADD_BREAKING_NEWS":var f=b.breakingNewsDuration;return babelHelpers["extends"]({},a,{breakingNews:{breakingNewsChanged:!0,breakingNewsDuration:f,breakingNewsEditStartTime:e,breakingNewsIsSettingUpEdit:!1}});case"REMOVE_BREAKING_NEWS":return babelHelpers["extends"]({},a,{breakingNews:{breakingNewsChanged:!0,breakingNewsDuration:void 0,breakingNewsEditStartTime:e,breakingNewsIsSettingUpEdit:!1}});case"REMOVE_ATTACHMENT_TYPE":return d("composerAttachmentAreaReducer").removeActiveAttachmentViewStateData(a,b,{attachmentType:"LINK",field:"breakingNews"});case"REMOVE_LINK_URL":return babelHelpers["extends"]({},a,{breakingNews:void 0});case"ADD_LINK_URL":if((c==null?void 0:c.breakingNewsIsSettingUpEdit)===!0)return babelHelpers["extends"]({},a,{breakingNews:{breakingNewsChanged:!0,breakingNewsDuration:c==null?void 0:c.breakingNewsDuration,breakingNewsEditStartTime:e,breakingNewsIsSettingUpEdit:!1}});else return babelHelpers["extends"]({},a,{breakingNews:void 0})}return babelHelpers["extends"]({breakingNews:c},a)}g["default"]=a}),98);
__d("getEntityMatcher",[],(function(a,b,c,d,e,f){function g(a,b){return b.getEntity(a)}function a(a,b){return function(c,d,e){var f=b||g;c.findEntityRanges(function(b){b=b.getEntity();return typeof b==="string"&&a(f(b,e))},d)}}f["default"]=a}),66);
__d("useCometComposerLinkScrape",["Promise","react","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(a){var d=c("useComposerViewStateDispatcher")();return j(function(){d({type:"ADD_LINK_URL",url:a}),d({attachmentType:"LINK",onRemove:function(a){return new(h||(h=b("Promise")))(function(b){a({onRemovedLast:b,type:"REMOVE_LINK_URL"})})},type:"ACTIVATE_ATTACHMENT_TYPE"})},[d,a])}g["default"]=a}),98);
__d("CometComposerLinksPluginForDraftJS.react",["breakingNewsReducer","composerLinkAttachmentChecker","composerLinkAttachmentReducer","cr:2003939","getEntityMatcher","getImplicitURLMatches","react","useCometComposerDecorator","useCometComposerLinkScrape","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function k(a){var d=a.children;a=a.href;var e=c("useCometComposerLinkScrape")(a);j(function(){e()},[e]);return b("cr:2003939")!=null?i.jsx(b("cr:2003939"),{href:a,children:d}):i.jsx("span",{className:"x1fey0fg",children:d})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var c=a.contentState;a=a.entityKey;c=a!=null?c.getEntity(a):null;a=c!=null?c.getData():null;a=(c=a==null?void 0:a.url)!=null?c:"";return i.jsx(k,{href:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function e(a){var b=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);a=a.decoratedText;a=a.startsWith("http://")||a.startsWith("https://")?a:"https://"+a;return i.jsx(k,{href:a,children:b})}e.displayName=e.name+" [from "+f.id+"]";var l={component:i.memo(e),priority:0,props:{},strategy:c("getImplicitURLMatches")},m={component:i.memo(a),priority:0,props:{},strategy:c("getEntityMatcher")(function(a){return a.getType()==="LINK"})};function n(a){c("useComposerViewStateReducer")(c("composerLinkAttachmentReducer"),c("composerLinkAttachmentChecker"));c("useComposerViewStateReducer")(c("breakingNewsReducer"));c("useCometComposerDecorator")(l);c("useCometComposerDecorator")(m);return null}g["default"]=n}),98);
__d("cometMentionDecoratorStrategy",[],(function(a,b,c,d,e,f){"use strict";var g=/\s/;function h(a){var b=a.getText();return a.getCharacterList().map(function(a,c){return a.getEntity()===null?b.slice(c,c+1):" "}).join("")}function a(a,b,c,d,e){if(b!==c.getKey())return;b=h(c);c=e.getSelectionAfter().getFocusOffset();e=b.substring(c).split(g)[0].length;b=b.substring(0,c+e);c=a(b);e=c.searchResult;if(e!=null){a=e.leadOffset;b=e.replaceableString;d(a,a+b.length)}}f.getTextWithoutEntities=h;f.decoratorStrategy=a}),66);
__d("useCometComposerMentionsDecorator",["getEntityMatcher","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo,l={rootFormattedText:{textDecoration:"x1bvjpef",$$css:!0},rootRegularMention:{backgroundColor:"xv78j7m",$$css:!0},rootWeakMention:{backgroundColor:"x1h0vfkc",color:"xi81zsa",$$css:!0}};function m(a){var b=a.children,d=a.hasFormattedText,e=a.offsetKey;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","hasFormattedText","offsetKey"]);a.blockKey;var f=a.contentState;a.decoratedText;var g=a.entityKey;a=babelHelpers.objectWithoutPropertiesLoose(a,["blockKey","contentState","decoratedText","entityKey"]);var i="regular";if(g!=null){f=f.getEntity(g).getData();f.mentionDecorType!=null&&(i=f.mentionDecorType)}return j.jsx("span",babelHelpers["extends"]({},a,{className:(h||(h=c("stylex")))(!d&&i==="regular"&&l.rootRegularMention,!d&&i==="weak"&&l.rootWeakMention,d&&l.rootFormattedText),"data-offset-key":e,spellCheck:!1,children:b}))}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=c("getEntityMatcher")(function(a){return a.getType()==="MENTION"});return k(function(){return{component:j.memo(m),priority:1,props:{hasFormattedText:a},strategy:b}},[a,b])}g["default"]=a}),98);
__d("CometComposerMentionsPlugin.react",["cometMentionDecoratorStrategy","composerEditorStateViewStateReducer","react","useCometComposerDecorator","useCometComposerMentionsAnchorDecorator","useCometComposerMentionsDecorator","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){var b=a.hasFormattedText;b=b===void 0?!1:b;a=babelHelpers.objectWithoutPropertiesLoose(a,["hasFormattedText"]);c("useComposerViewStateReducer")(c("composerEditorStateViewStateReducer"));c("useCometComposerDecorator")(c("useCometComposerMentionsDecorator")(b));c("useCometComposerDecorator")(c("useCometComposerMentionsAnchorDecorator")(babelHelpers["extends"]({},a),d("cometMentionDecoratorStrategy").decoratorStrategy));return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometReplaceMentionedTextInEditorState",["DraftModifier","EditorState"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e,f,g){g=g(b.getCurrentContent(),a);var h=g.getLastCreatedEntityKey();g=d("DraftModifier").replaceText(g,e,f,b.getCurrentInlineStyle(),h);e=a.decorType;g.mergeEntityData(h,{mentionDecorType:e});return c("EditorState").push(b,g,"insert-fragment")}function a(a,b,c,d,e){var f=b.getSelection(),g=b.getCurrentContent(),k=f.getAnchorKey(),l=f.getAnchorOffset();g=g.getBlockMap().get(k);k=f.getStartOffset();k=g.getText().substr(k-c,c);k=i(a,k);g=l-j(g.getText().substr(0,l),k,c);return h(a,b,f.set("anchorOffset",g),e(a),d)}function i(a,b){b=a.label;return b}function j(a,b,c){c=c;for(var d=c;d<=b.length;d++)a.substr(-d)===b.substr(0,d)&&(c=d);return c}g["default"]=a}),98);
__d("createCometComposerMentionsEntity",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b.createEntity("MENTION","SEGMENTED",{id:a})}f["default"]=a}),66);
__d("getCometComposerMentionsSearch",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){var c=a.getCharacterList().toSeq().slice(0,b).reverse().takeWhile(function(a){return a.getEntity()===null}).count();return a.getText().slice(b-c,b)}function a(a){var b=a.getSelection();a=a.getCurrentContent();var c=b.getAnchorKey();a=a.getBlockForKey(c);return g(a,b.getAnchorOffset())}f["default"]=a}),66);
__d("detectLinkForMisinformationAnalysis",["URLMatchUtils","getImplicitURLMatches"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=b.draftEditorState.getCurrentContent();e.getBlocksAsArray().forEach(function(b){c("getImplicitURLMatches")(b,function(b,c,e){b=d("URLMatchUtils").canonicalizeURL(e);d("URLMatchUtils").isURL(b)&&a.add(b)},e)})}g["default"]=a}),98);
__d("handleNewLinks",["URLMatchUtils","detectLinkForMisinformationAnalysis","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=new Set();if(a!=null)switch(a.__type){case"editor-state-based":c("detectLinkForMisinformationAnalysis")(g,a);break;case"plain-text":break;default:return a.__type}a=b==null?void 0:b.url;c("isStringNullOrEmpty")(a)||g.add(d("URLMatchUtils").canonicalizeURL(a));Array.from(g.values()).filter(function(a){return f.has(a)===!1}).forEach(function(a){return e({__type:"TRACK_COMPOSED_URL",dispatch:e,url:a})});Array.from(f.values()).filter(function(a){return g.has(a)===!1}).forEach(function(a){e({__type:"UNTRACK_COMPOSED_URL",url:a})})}g["default"]=a}),98);
__d("CometComposerMisinformationLinkDetectorPluginForDraftJS.react",["JSResourceForInteraction","handleNewLinks","handlePendingMisinformationOnComposerSubmit","hasNoLinksToAnalyze","maybeTriggerMisinformationDialog","react","useCometLazyDialog","useComposerPreSubmitHook","useMisinformationState","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;var i=b.useEffect,j=b.useRef,k=c("JSResourceForInteraction")("CometMisinformationLinkComposerConfirmationDialog.react").__setRef("CometComposerMisinformationLinkDetectorPluginForDraftJS.react");function a(a){var b=a.composerType,d=a.editorState,e=a.linkAttachment;a=c("useMisinformationState")();var f=a.composedURLs,g=a.composerPhase,h=a.dispatch,l=a.misinformationRecords,m=a.setComposerPhase,n=j(null);a=c("useCometLazyDialog")(k);var o=a[0],p=j(!1);i(function(){if(b==="share")return;n.current=l;var a=function(){p.current=!0},d=function(){p.current=!1};c("maybeTriggerMisinformationDialog")({composedURLs:f,composerPhase:g,composerType:b,dialogIsOpen:p,dispatch:h,misinformationRecords:l},{onCloseDialog:d,onTriggerDialog:a,openConfirmationDialog:o})},[f,g,b,h,l,o]);i(function(){c("handleNewLinks")(d,e,h,f)},[f,d,e]);var q=j([]);i(function(){var a=Array.from(f);c("handlePendingMisinformationOnComposerSubmit")(a,l,q)},[f,l]);function r(a){var b=a.onContinue,d=a.onHalt;m("COMMITTING");q.current.push({onContinue:function(){m("COMPOSING"),b()},onHalt:function(){m("COMPOSING"),d()}});a=c("hasNoLinksToAnalyze")(f,l);if(a){a=[].concat(q.current);q.current.length=0;a.forEach(function(a){a=a.onContinue;a()})}else h({__type:"EXIT_COOLDOWN_PERIOD"})}c("useComposerPreSubmitHook")(r);i(function(){return function(){var a=n.current;a!==null&&Object.keys(a).forEach(function(b){b=a[b];b!=null&&b.dispose()})}},[]);return null}e=c("withComposerViewStatePart")(a,function(a){return{editorState:a.editorState,linkAttachment:a.linkAttachment}});g["default"]=e}),98);
__d("areRecConditionsActiveFeedComposer",["viewStateUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=25;function a(a){var b=a.hasFeeling,c=a.hasGIF,e=a.hasSATP,f=a.isSATPDisabled,g=a.numImageAttachments,i=a.postText;a=a.rec;switch(a){case"CAPTION_LENGTH_NONVIDEO":return i!=null?i.length<h:!1;case"ADD_ONE_PHOTO_NONVIDEO":return g<1;case"USE_SATP_NONVIDEO":return!e&&!f;case"ADD_FEELING_NONVIDEO":return!b;case"ADD_GIF_NONVIDEO":return!c;case"ONLY_ONE_PHOTO_NONVIDEO":return g>1;case"ADD_HASHTAG_NONVIDEO":return!d("viewStateUtils").containsHashtag(i);case"CAPTION_TOO_MANY_CAPS_NONVIDEO":return d("viewStateUtils").hasTooManyCaps(i);default:return!1}}g["default"]=a}),98);
__d("composerCreatorRecommendationsReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c;switch(b.type){case"DELIVER_RECOMMENDATION":return((c=a.creatorRecommendationsState)==null?void 0:c.deliveredRecommendation)!=null?a:babelHelpers["extends"]({},a,{creatorRecommendationsState:{deliveredRecommendation:b.recommendation,hasBeenSeen:!1,hasConditionsMet:!0,hasLoggedTipImpression:!1}});case"SET_DELIVERED_REC_HAS_CONDITIONS_MET":return((c=a.creatorRecommendationsState)==null?void 0:c.deliveredRecommendation)==null?a:babelHelpers["extends"]({},a,{creatorRecommendationsState:babelHelpers["extends"]({},a.creatorRecommendationsState,{hasConditionsMet:b.hasConditionsMet})});case"REGISTER_RECOMMENDATION_IMPRESSION":return((c=a.creatorRecommendationsState)==null?void 0:c.deliveredRecommendation)==null?a:babelHelpers["extends"]({},a,{creatorRecommendationsState:babelHelpers["extends"]({},a.creatorRecommendationsState,{hasBeenSeen:!0})});case"SET_HAS_LOGGED_TIP_IMPRESSION":return((b=a.creatorRecommendationsState)==null?void 0:b.deliveredRecommendation)==null?a:babelHelpers["extends"]({},a,{creatorRecommendationsState:babelHelpers["extends"]({},a.creatorRecommendationsState,{hasLoggedTipImpression:!0})})}return a}f["default"]=a}),66);
__d("getCheckGKForRecFeedComposer",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case"CAPTION_LENGTH_NONVIDEO":return function(){return c("gkx")("23270")};case"ADD_ONE_PHOTO_NONVIDEO":return function(){return c("gkx")("23271")};case"USE_SATP_NONVIDEO":return function(){return c("gkx")("23272")};case"ADD_FEELING_NONVIDEO":return function(){return c("gkx")("23273")};case"ADD_GIF_NONVIDEO":return function(){return c("gkx")("23274")};case"ADD_HASHTAG_NONVIDEO":return function(){return c("gkx")("23276")};case"CAPTION_TOO_MANY_CAPS_NONVIDEO":return function(){return c("gkx")("23277")};default:return function(){return!1}}}g["default"]=a}),98);
__d("CometComposerCreatorRecommendationsPluginForLexical.react",["areRecConditionsActiveFeedComposer","composerCreatorRecommendationsReducer","getCheckGKForRecFeedComposer","randomShuffle","react","useComposerViewStateDispatcher","useComposerViewStateReducer","viewStateUtils","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;var i=b.useEffect,j=b.useState;function k(a,b){a({recommendation:b,type:"DELIVER_RECOMMENDATION"})}function l(a,b){a({hasConditionsMet:b,type:"SET_DELIVERED_REC_HAS_CONDITIONS_MET"})}function m(a){var b=a.eligibleRecs,d=a.hasFeeling,e=a.hasGIF,f=a.hasSATP,g=a.isSATPDisabled,h=a.numImageAttachments,i=a.postText;a=b.filter(function(a){return c("areRecConditionsActiveFeedComposer")({hasFeeling:d,hasGIF:e,hasSATP:f,isSATPDisabled:g,numImageAttachments:h,postText:i,rec:a})});for(b=0;b<a.length;b++){var j=a[b],k=c("getCheckGKForRecFeedComposer")(j);if(k())return j}return null}function a(a){var b=a.editor,e=a.eligibleRecs,f=a.hasFeeling,g=a.hasGIF,h=a.hasSATP,n=a.numImageAttachments,o=a.recommendationsData;c("useComposerViewStateReducer")(c("composerCreatorRecommendationsReducer"));var p=c("useComposerViewStateDispatcher")();a=j("");var q=a[0],r=a[1],s=d("viewStateUtils").useIsSATPDisabled(q);i(function(){if(b!=null){var a=b.registerTextContentListener(function(a){r(a)});return a}},[b]);i(function(){var a=o==null?void 0:o.deliveredRecommendation;if(a==null){var b=[].concat(e);b=m({eligibleRecs:c("randomShuffle")(b),hasFeeling:f,hasGIF:g,hasSATP:h,isSATPDisabled:s,numImageAttachments:n,postText:q});b!=null&&k(p,b)}else l(p,c("areRecConditionsActiveFeedComposer")({hasFeeling:f,hasGIF:g,hasSATP:h,isSATPDisabled:s,numImageAttachments:n,postText:q,rec:a}))},[p,e,f,g,n,h,s,q,o==null?void 0:o.deliveredRecommendation])}e=c("withComposerViewStatePart")(a,function(a){var b;return{editor:a.lexicalEditor,hasFeeling:(b=d("viewStateUtils")).viewStateHasFeeling(a),hasGIF:b.viewStateHasGIF(a),hasSATP:b.viewStateHasSATP(a),numImageAttachments:b.getNumImageAttachments(a),recommendationsData:a==null?void 0:a.creatorRecommendationsState}});g["default"]=e}),98);
__d("CometComposerUnifiedInterceptionPluginForDraftJS.react",["CometComposerInterceptionPluginUtils","CometComposerInterceptionRequestHandler","CometComposerUnifiedInterceptionPluginForDraftJS_intercepts.graphql","CometRelay","composerDirtyStateViewStateReducer","getEligibleInterceptionDefinitions","useCometComposerUnifiedInterceptors","useComposerPreSubmitHook","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometComposerUnifiedInterceptionPluginForDraftJS_intercepts.graphql");function a(a){var b=a.interceptArgs,e=a.interceptKey,f=a.interceptPluginDefinitions,g=a.onRestartCreationMutation,h=a.unifiedInterceptionRequestData,j=d("CometRelay").useRelayEnvironment();c("useComposerViewStateReducer")(c("composerDirtyStateViewStateReducer"));var k=c("useComposerViewStateDispatcher")();a=d("CometRelay").useFragment(i,e);var l=c("useCometComposerUnifiedInterceptors")(a==null?void 0:a.composer_interception,f,b);function m(a,b){var e=a.onContinue;a=a.onHalt;if(l==null){e();return}var f=c("getEligibleInterceptionDefinitions")(b,l);if(f.length===0){e();return}f=function(){k({type:"set_ignore_dirty_flag",value:!1}),e()};var i=d("CometComposerInterceptionPluginUtils").getPostText(b.editorState);d("CometComposerInterceptionRequestHandler").performInterception(b,k,i,j,h,a,f,g,l)}c("useComposerPreSubmitHook")(m);return null}g["default"]=a}),98);
__d("createCometComposerWhatsAppDeeplinkEntity",[],(function(a,b,c,d,e,f){"use strict";var g="PageWhatsAppNumber";function a(a,b,c){return c.createEntity("MENTION","IMMUTABLE",{entType:g,id:a})}f["default"]=a}),66);
__d("FeedComposerCometFontSize",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Regular:24,Small:15});f.FeedComposerCometFontSize=a}),66);
__d("useCometComposerWhatsAppDeeplinkDecorator.react",["ix","FeedComposerCometFontSize","FeedComposerCometTextStyleContext","TetraIcon.react","fbicon","getEntityMatcher","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useMemo,m={icon:{verticalAlign:"x19693qn",$$css:!0},iconSmall:{verticalAlign:"x5jf7z8",$$css:!0}},n=function(a){switch(a){case"#FFFFFFFF":return"white";case"#000000FF":return"black";case"primary-text":return"primary";default:return"primary"}},o=function(a){if(a<=d("FeedComposerCometFontSize").FeedComposerCometFontSize.Small)return d("fbicon")._(h("497239"),12);return a<=d("FeedComposerCometFontSize").FeedComposerCometFontSize.Regular?d("fbicon")._(h("726969"),20):d("fbicon")._(h("777209"),24)};function p(a){a.blockKey;var b=a.children;a.contentState;a.decoratedText;a.entityKey;a.hasFormattedText;var d=a.offsetKey;a=babelHelpers.objectWithoutPropertiesLoose(a,["blockKey","children","contentState","decoratedText","entityKey","hasFormattedText","offsetKey"]);var e=k(c("FeedComposerCometTextStyleContext")),f=e.color;e=e.fontSize;return j.jsxs("span",babelHelpers["extends"]({},a,{className:"xv78j7m xuxw1ft","data-offset-key":d,dir:"ltr",spellCheck:!1,children:[j.jsx(c("TetraIcon.react"),{color:n(f),icon:o(e),xstyle:e<20?m.iconSmall:m.icon}),b]}))}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.hasFormattedText;a=a.priority;var d=a===void 0?0:a,e=c("getEntityMatcher")(function(a){return a.getType()==="MENTION"&&a.getData().entType==="PageWhatsAppNumber"});return l(function(){return{component:j.memo(p),priority:d,props:{hasFormattedText:b},strategy:e}},[b,d,e])}g["default"]=a}),98);
__d("handleSelectedEntityEntryForMentions",["FBLogger","cometReplaceMentionedTextInEditorState","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.dataSourceResolver,d=a.deferredEditorState,e=a.entry,f=a.getReplacementString,g=a.getSearchText,h=a.onEditorStateChange;a=a.onMentionsCreateContentState;if(d==null||d.__type!=="editor-state-based")return!1;d=d.draftEditorState;g=g(d);if(g==null){c("FBLogger")("CometComposer").warn("Race condition where the user selected a mention but theres no text in the editor");return!1}b=b(g);g=b.searchResult;if(g==null){c("recoverableViolation")("onPressEntry was called and no search result was found for the query","CometComposer");return!1}b=c("cometReplaceMentionedTextInEditorState")(e,d,g.replaceableString.length,a,f);if(d!==b){h(b);return!0}return!1}g["default"]=a}),98);
__d("useMentionsHandlerForSelectedEntry",["handleSelectedEntityEntryForMentions"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.getReplacementString,d=a.getSearchText,e=a.onMentionsCreateContentState;return function(a){var f=a.dataSourceResolver,g=a.deferredEditorState,h=a.entry;a=a.onEditorStateChange;return c("handleSelectedEntityEntryForMentions")({dataSourceResolver:f,deferredEditorState:g,entry:h,getReplacementString:b,getSearchText:d,onEditorStateChange:a,onMentionsCreateContentState:e})}}g["default"]=a}),98);
__d("CometComposerWhatsAppDeeplinkPlugin.react",["CometComposerWhatsAppDeeplinkTypeaheadListItem.react","cometMentionDecoratorStrategy","composerEditorStateViewStateReducer","createCometComposerWhatsAppDeeplinkEntity","getCometComposerMentionsSearch","react","useCometComposerDecorator","useCometComposerMentionsAnchorDecorator","useCometComposerWhatsAppDeeplinkDataSourceResolverConfig","useCometComposerWhatsAppDeeplinkDecorator.react","useCometMentionsLoggingProvider","useCometTypeaheadViewListStrategy","useComposerViewStateReducer","useMentionsHandlerForSelectedEntry","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function i(a){a=a.label;return a}function j(a,b){b=b.key;return c("createCometComposerWhatsAppDeeplinkEntity")(b,!1,a)}function a(a){var b=a.connected_whatsapp_number,e=a.connected_whatsapp_number_country_prefix,f=a.connected_whatsapp_number_id,g=a.currentBlockKey,h=a.hasFormattedText,k=a.isWhatsAppTypeaheadDisplayed,l=a.page_id;a=a.whatsapp_display_number;e=c("useCometComposerWhatsAppDeeplinkDataSourceResolverConfig")({countryCode:e,formatted:a,fullNumber:b,id:f,isWhatsAppTypeaheadDisplayed:k});c("useComposerViewStateReducer")(c("composerEditorStateViewStateReducer"));c("useCometComposerDecorator")(c("useCometComposerWhatsAppDeeplinkDecorator.react")({hasFormattedText:h}));a=c("useMentionsHandlerForSelectedEntry")({getReplacementString:i,getSearchText:c("getCometComposerMentionsSearch"),onMentionsCreateContentState:j});b=c("useCometMentionsLoggingProvider")({context_id:l,context_type:"page",surface:"COMPOSER",typeahead_type:"WHATSAPP_DEEPLINK"});f=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("CometComposerWhatsAppDeeplinkTypeaheadListItem.react")});c("useCometComposerDecorator")(c("useCometComposerMentionsAnchorDecorator")({currentBlockKey:g,dataSourceResolverConfig:e,getSearchText:c("getCometComposerMentionsSearch"),loggingProvider:b,mentionsHandlerForSelectedEntry:a,priority:1,viewStrategyRenderer:f},d("cometMentionDecoratorStrategy").decoratorStrategy));return null}a.displayName=a.name+" [from "+f.id+"]";b=c("withComposerViewStatePart")(a,function(a){var b=a==null?void 0:a.editorState;b=b!=null&&b.__type==="editor-state-based"?b.draftEditorState:null;return{currentBlockKey:b!=null?b.getSelection().getStartKey():null,hasFormattedText:((b=a.formattedText)==null?void 0:b.currentFormattedTextPreset)!=null}});g["default"]=b}),98);
__d("CometComposerWithWhatsAppDeeplinkPlugin.react",["CometComposerWithWhatsAppDeeplinkPlugin_page.graphql","CometRelay","cr:1337","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){a=a.page$key;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometComposerWithWhatsAppDeeplinkPlugin_page.graphql"),a);var c=!0;c={connected_whatsapp_number:a==null?void 0:a.connected_whatsapp_number,connected_whatsapp_number_country_prefix:a==null?void 0:a.connected_whatsapp_number_country_prefix,connected_whatsapp_number_id:a==null?void 0:a.connected_whatsapp_number_id,isWhatsAppTypeaheadDisplayed:c,page_id:a==null?void 0:a.page_id,whatsapp_display_number:a==null?void 0:a.whatsapp_display_number};return j.jsx(b("cr:1337"),babelHelpers["extends"]({},c))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("composerMultilingualPostTransform",["cr:6751"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:6751")}),98);
__d("composerMultilingualPostTransformForDraftJS",["cometComposerRichTextTransformForDraftJS","getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d,e){if(e.editorState==null)return;var f=c("getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE")(e.editorState);c("cometComposerRichTextTransformForDraftJS")(e,{source:d},function(c){c=c.composed_text;if(c==null)b({dialect:a,message:f});else{var d=c.block_data,e=c.block_depths,g=c.block_types,h=c.blocks,i=c.entities,j=c.entity_map;c=c.inline_styles;if(j==null||h==null||d==null){b({dialect:a,message:f});return}d={block_data:d,block_depths:e,block_types:g,blocks:h,entities:i,entity_map:j,inline_styles:c};b({composed_text:d,dialect:a,message:f})}})}function a(a,b,c){a=a.multilingualData;if(a==null)return c(b);var d=b.source,e=a.mainDialect,f=a.otherDialects,g=[];a=Object.keys(f);a.forEach(function(a){h(a,function(a){g.push(a)},d,f[a].viewState)});return c(babelHelpers["extends"]({},b,{multilingual_translations:g,specified_dialect:e}))}g["default"]=a}),98);
__d("RichComposedTextEditorMaxNestingLevels",[],(function(a,b,c,d,e,f){"use strict";a=6;f["default"]=a}),66);
__d("draftJsEditorStateGetSelectedBlocks",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.getSelection(),c=b.getStartKey(),d=b.getEndKey();b=a.getCurrentContent();a=b.getBlockMap();return a.toSeq().skipUntil(function(a,b){return b===c}).takeUntil(function(a,b){return b===d}).concat([[d,a.get(d)]]).toArray()}f["default"]=a}),66);
__d("draftJsEditorStateIndentSelectedListBlocks",["EditorState","adjustBlockDepthForContentState","draftJsEditorStateGetSelectedBlocks"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){b===void 0&&(b="indent-more");var e=a.getSelection(),f=a.getCurrentContent(),g=c("draftJsEditorStateGetSelectedBlocks")(a);g=g.find(function(a){return a.getType()!=="unordered-list-item"&&a.getType()!=="ordered-list-item"});if(g!=null)return a;g=c("adjustBlockDepthForContentState")(f,e,b==="indent-less"?-1:1,d);return c("EditorState").push(a,g,"adjust-depth")}g["default"]=a}),98);
__d("ComposedEntityType",[],(function(a,b,c,d,e,f){a=Object.freeze({MENTION:0,LINK:1,IMAGE:2,VIDEO:3,EMOTICON:4,TOKEN:5,HASHTAG:6,IMPLICIT_LINK:7,EMBED:8,EMOJI:9,MATH:10,HIGHLIGHT:11,DELIGHT:12,TEMPLATE_VARIABLE:13,ASSISTANT_TYPEAHEAD:14,UNIDASH:15,WORK_CUSTOM_EMOJI:16});f["default"]=a}),66);
__d("encodeBlocks",["ComposedEntityType","ComposedInlineStyle","convertFromDraftStateToRaw","filterObject","mapObject","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=c("convertFromDraftStateToRaw")(a);var b=a.blocks;a=a.entityMap;b=b.map(function(a){var b,d=a.key,e=a.type,f=a.text,g=a.depth,h=a.inlineStyleRanges,k=a.entityRanges;a=a.data;return{key:(b=c("nullthrows"))(d),type:i[e],text:f,depth:b(g),inlineStyleRanges:b(h).map(function(a){return babelHelpers["extends"]({},a,{style:j[a.style]})}),entityRanges:b(k),data:a}});a=(h||(h=c("mapObject")))(a,function(a){var b=a.data,d=null,e=void 0;typeof b==="object"&&(d=b.id,e=babelHelpers.objectWithoutPropertiesLoose(b,["id"]),Object.keys(e).length===0?e=void 0:e=(h||(h=c("mapObject")))(e,function(a){return a==null?"":String(a)}));return{id:d||null,type:c("ComposedEntityType")[a.type],data:e}});a=c("filterObject")(a,function(a){return(a==null?void 0:a.type)!=null});return{blocks:b,entityMap:a}}var i={unstyled:0,paragraph:1,blockquote:4,"ordered-list-item":3,"unordered-list-item":2,"code-block":7,"header-one":5,"header-two":6,atomic:8,pullquote:9,"checkbox-list-item":14,"header-three":6,"header-four":6,"header-five":6,"header-six":6,section:1,article:1},j={BOLD:(b=c("ComposedInlineStyle")).BOLD,CODE:b.CODE,ITALIC:b.ITALIC,STRIKETHROUGH:b.STRIKETHROUGH,UNDERLINE:b.UNDERLINE};g["default"]=a}),98);
__d("CometComposerDraftJsHelpers",["RichComposedTextEditorMaxNestingLevels","draftJsEditorStateIndentSelectedListBlocks","encodeBlocks"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b="indent-more");return c("draftJsEditorStateIndentSelectedListBlocks")(a,b,c("RichComposedTextEditorMaxNestingLevels"))}function h(a){if(a.blocks.length!==1)return!1;a=a.blocks[0];if(a.type!==5)return!1;if(a.inlineStyleRanges.length>0)return!1;return a.entityRanges.length>0?!1:!0}function b(a,b){a=a.getCurrentContent();var d=c("encodeBlocks")(a);return(b==null?void 0:b.ignoreSingleHeaderOneRichText)===!0&&h(d)?!1:d.blocks.some(function(a){return a.type!==0||a.inlineStyleRanges.length>0||i(a.entityRanges,d.entityMap)})}function i(a,b){return a.some(function(a){a=b[String(a.key)];return(a==null?void 0:a.type)===1})}g.indentSelectedListBlocks=a;g.isSingleHeaderOneBlock=h;g.editorHasRichText=b}),98);
__d("cometComposerRichTextReduceFormattingType",["CometComposerDraftJsHelpers","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return{formattingType:h(a)?"RICHTEXT":void 0}};var h=function(a){return c("gkx")("23233")?!0:d("CometComposerDraftJsHelpers").editorHasRichText(a)};b=a;g["default"]=b}),98);
__d("CometComposerRichTextReducer.react",["cometComposerRichTextReduceFormattingType","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a.editorState==null||a.editorState.__type!=="editor-state-based"||a.formattingType!=="RICHTEXT"&&a.formattingType!=null)return a;switch(b.type){case"update_editor_state":var d=b.editorState;if(d==null||d.__type!=="editor-state-based"||d.draftEditorState===a.editorState)return a;var e=c("gkx")("23233");if(e)return a.formattingType==="RICHTEXT"?a:babelHelpers["extends"]({},a,{formattingType:"RICHTEXT"});e=d.draftEditorState.getLastChangeType()==="insert-fragment";return e?babelHelpers["extends"]({},a,c("cometComposerRichTextReduceFormattingType")(d.draftEditorState)):a;case"update_rich_text_draft_editor_state":return babelHelpers["extends"]({},a,{editorState:babelHelpers["extends"]({},a.editorState,{draftEditorState:b.draftEditorState})},c("cometComposerRichTextReduceFormattingType")(b.draftEditorState))}return a}g["default"]=a}),98);
__d("getRangeBoundingClientRect",["getRangeClientRects"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("getRangeClientRects")(a);var c=0,d=0,e=0,f=0;if(a.length){if(a.length>1&&a[0].width===0){var g=a[1];c=g.top;d=g.right;e=g.bottom;f=g.left}else{g=a[0];c=g.top;d=g.right;e=g.bottom;f=g.left}for(g=1;g<a.length;g++){var h=a[g];h.height!==0&&h.width!==0&&(c=Math.min(c,h.top),d=Math.max(d,h.right),e=Math.max(e,h.bottom),f=Math.min(f,h.left))}}return{top:c,right:d,bottom:e,left:f,width:d-f,height:e-c}}e.exports=a}),null);
__d("getVisibleSelectionRect",["getRangeBoundingClientRect"],(function(a,b,c,d,e,f){"use strict";function a(c){c=c.getSelection();if(!c.rangeCount)return null;c=c.getRangeAt(0);c=b("getRangeBoundingClientRect")(c);var d=c.top,e=c.right,f=c.bottom,g=c.left;return d===0&&e===0&&f===0&&g===0?null:c}e.exports=a}),null);
__d("getPositionNextToSelection",["getVisibleSelectionRect"],(function(a,b,c,d,e,f,g){"use strict";function b(b,d,e){e===void 0&&(e=0);var f=c("getVisibleSelectionRect")(a);b=(b=b.current)==null?void 0:b.getBoundingClientRect();d=(d=d.current)==null?void 0:d.getBoundingClientRect();if(!b||!d||!f)return{left:0,top:0};var g=0;e=b.width-d.width-e*2;var h=f.left-b.left+f.width/2;h=h-d.width/2;return{left:Math.max(Math.min(h,e),g),top:f.top-b.top-d.height}}g["default"]=b}),98);
__d("FeedComposerCometHashtagsWithTypeaheadPlugin.react",["CometComposerHashtagsWithTypeaheadPlugin.react","FeedComposerCometHashtagTypeheadListItem.react","cr:1911814","createCometComposerHashtagsEntity","getCometComposerHashtagSearch","react","useCometMentionsLoggingProvider","useCometTypeaheadViewListStrategy","useFeedComposerCometHashtagsDataSourceResolverConfig","useMentionsHandlerForSelectedEntry","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j="MAIN_COMPOSER";function a(a){var d=a.typeaheadContext;d=d===void 0?j:d;var e=a.typeaheadScopeID,f=a.typeaheadResultsIncludeMetatext;f==null&&(f=!0);d=c("useFeedComposerCometHashtagsDataSourceResolverConfig")({context:d,includeMetatext:f,limit:6,payloadDecorators:b("cr:1911814")!=null?[b("cr:1911814")({limit:1})]:void 0,scopeID:e});f=c("useMentionsHandlerForSelectedEntry")({getReplacementString:k,getSearchText:c("getCometComposerHashtagSearch"),onMentionsCreateContentState:l});e=c("useCometMentionsLoggingProvider")({context_id:null,context_type:"undirected",surface:"COMPOSER",typeahead_type:"HASHTAG"});var g=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("FeedComposerCometHashtagTypeheadListItem.react")});return i.jsx(c("CometComposerHashtagsWithTypeaheadPlugin.react"),{currentBlockKey:a.currentBlockKey,dataSourceResolverConfig:d,getSearchText:c("getCometComposerHashtagSearch"),hasFormattedText:a.hasFormattedText,loggingProvider:e,mentionsHandlerForSelectedEntry:f,priority:1,viewStrategyRenderer:g})}a.displayName=a.name+" [from "+f.id+"]";function k(a){a=a.label;return a}function l(a,b){b=b.key;return c("createCometComposerHashtagsEntity")(b,a)}e=c("withComposerViewStatePart")(a,function(a){var b=a==null?void 0:a.editorState;b=b!=null&&b.__type==="editor-state-based"?b.draftEditorState:null;return{currentBlockKey:b!=null?b.getSelection().getStartKey():null,hasFormattedText:((b=a.formattedText)==null?void 0:b.currentFormattedTextPreset)!=null}});g["default"]=e}),98);
__d("composerLocationTagChecker",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c;if((a==null?void 0:a.locationMinutiae)!=null&&b.locationMinutiae==null)return"DELETED";else if((a==null?void 0:(c=a.locationMinutiae)==null?void 0:c.placeID)!==((c=b.locationMinutiae)==null?void 0:c.placeID))return"UPDATED";else{a=(a==null?void 0:(c=a.attachmentArea)==null?void 0:c.activeAttachmentType)==="LOCATION";b=((c=b.attachmentArea)==null?void 0:c.activeAttachmentType)==="LOCATION";if(a!==b)return"UPDATED"}return"UNCHANGED"}f["default"]=a}),66);
__d("composerLocationMinutiaeMutationDataTransform",["composerLocationMinutiaeTransformData","composerLocationTagChecker"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){a=c("composerLocationTagChecker")(a,b);switch(a){case"UPDATED":e(babelHelpers["extends"]({},d,c("composerLocationMinutiaeTransformData")(b.locationMinutiae,d.place_attachment_setting)));break;case"DELETED":e(babelHelpers["extends"]({},d,{explicit_place_id:null}));break;case"UNCHANGED":default:e(d);break}}g["default"]=a}),98);
__d("MentionsModalEntryClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("647");b=d("FalcoLoggerInternal").create("mentions_modal_entry_clicked",a);e=b;g["default"]=e}),98);
__d("MentionsOpenModalClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("680");b=d("FalcoLoggerInternal").create("mentions_open_modal_click",a);e=b;g["default"]=e}),98);
__d("CometMentionsModalLoggingProvider",["CometMentionsLoggingProvider","MentionsModalEntryClickedFalcoEvent","MentionsOpenModalClickFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=new(c("CometMentionsLoggingProvider"))(a),this.$1=a,this.$3=!1}var b=a.prototype;b.maybeEndSession=function(a,b,d){var e=this;if(this.$3)return;if(d==null){this.abandonSession(a,b);return}var f=d.rawData;if(f.type!=="SEE_ALL_ENTRY"){this.$2.maybeEndSession(a,b,d);return}if(a==null)return;var g=b!=null?JSON.stringify(b.map(function(a){a=a.key;return{id:a}})):null,h=d.key,i=(f=b==null?void 0:b.findIndex(function(a){a=a.key;return a===h}))!=null?f:null;this.$3=!0;c("MentionsOpenModalClickFalcoEvent").log(function(){return babelHelpers["extends"]({},e.$1,{selected_position:String(i),serialized_candidate_suggestions:g,session_id:e.getSessionID(),typed_query:a})})};b.getSessionID=function(){return this.$2.getSessionID()};b.isSessionActive=function(){return this.$2.isSessionActive()};b.startSession=function(a){return this.$2.startSession(a)};b.logSelectedEntriesFromModal=function(a,b){var d=this;if(a.length===0)this.abandonSession(b,[]);else if(a.length===1)this.$2.maybeEndSession(b,[],a[0]);else{var e=a.splice(0,a.length-1);e.forEach(function(a){c("MentionsModalEntryClickedFalcoEvent").log(function(){return babelHelpers["extends"]({},d.$1,{selected_position:"0",selected_result_display_text:a.label,selected_result_id:a.key,selected_result_id_string:a.key,serialized_candidate_suggestions:"",session_id:d.getSessionID(),typed_query:b})})});this.$2.maybeEndSession(b,[],a[a.length-1])}this.$3=!1};b.abandonSession=function(a,b){this.$2.maybeEndSession(a,b);return};return a}();g["default"]=a}),98);
__d("useCometMentionsModalLoggingProvider",["CometMentionsModalLoggingProvider","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo,j={context_id:null,context_type:"unknown",surface:null,typeahead_type:null};function a(a){a===void 0&&(a=j);return i(function(){return new(c("CometMentionsModalLoggingProvider"))(a)},[a])}g["default"]=a}),98);
__d("FeedComposerCometMentionsPluginForDraftjs.react",["CometComposerMentionsPlugin.react","FeedComposerCometMentionsViewItemResolver.react","createCometComposerMentionsEntity","getCometComposerMentionsSearch","react","useCometMentionsModalLoggingProvider","useCometTypeaheadViewListStrategy","useFeedComposerCometMentionsDataSourceResolverConfig","useMentionsHandlerForSelectedEntry","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){a=a.label;return a}function k(a,b){return c("createCometComposerMentionsEntity")(b.key,a)}function a(a){var b=a.currentBlockKey;a=a.hasFormattedText;var d=c("useFeedComposerCometMentionsDataSourceResolverConfig")({contextID:null,postID:null,shouldBootstrapOnLayoutEffect:!0}),e=c("useCometMentionsModalLoggingProvider")({context_id:null,context_type:"undirected",surface:"COMPOSER",typeahead_type:"ENTITY"}),f=c("useMentionsHandlerForSelectedEntry")({getReplacementString:j,getSearchText:c("getCometComposerMentionsSearch"),onMentionsCreateContentState:k}),g=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("FeedComposerCometMentionsViewItemResolver.react")});return i.jsx(c("CometComposerMentionsPlugin.react"),{currentBlockKey:b,dataSourceResolverConfig:d,getSearchText:c("getCometComposerMentionsSearch"),hasFormattedText:a,loggingProvider:e,mentionsHandlerForSelectedEntry:f,priority:1,viewStrategyRenderer:g})}a.displayName=a.name+" [from "+f.id+"]";b=c("withComposerViewStatePart")(a,function(a){var b=a==null?void 0:a.editorState;b=b!=null&&b.__type==="editor-state-based"?b.draftEditorState:null;return{currentBlockKey:b!=null?b.getSelection().getStartKey():null,hasFormattedText:((b=a.formattedText)==null?void 0:b.currentFormattedTextPreset)!=null}});g["default"]=b}),98);
__d("draftJsEditorStateMoveCursorToEndOfSelection",["EditorState","SelectionState"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.getSelection(),d=Math.max(b.getAnchorOffset(),b.getFocusOffset());b=new(c("SelectionState"))({anchorKey:b.getAnchorKey(),anchorOffset:d,focusKey:b.getFocusKey(),focusOffset:d,hasFocus:!0,isBackward:!1});return c("EditorState").forceSelection(a,b)}g["default"]=a}),98);
__d("geminiComposerRichTextReducer",["CometComposerDraftJsHelpers","EditorState","RichTextEditorUtil","cometComposerRichTextReduceFormattingType","draftJsEditorStateMoveCursorToEndOfSelection","getPositionNextToSelection"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e;if(((e=a.editorState)==null?void 0:e.__type)!=="editor-state-based"||a.formattingType==="SATP")return a;e=a.editorState.draftEditorState;switch(b.type){case"enable_markdown":case"disable_markdown":return babelHelpers["extends"]({},a,{richTextBlockStyleMenuTopOffset:0});case"rich_text_popovers_root_blur":case"rich_text_popovers_link_input_blur":case"rich_text_popovers_inline_styles_popover_escape_key":var f;f=b.relatedTarget instanceof Node&&((f=b.refs.popover.current)==null?void 0:f.contains(b.relatedTarget))===!0;return f?a:babelHelpers["extends"]({},a,{richTextInlineStyleMenuState:"hidden"});case"rich_text_popovers_root_select":return m(a,e,b);case"rich_text_link_button_pressed":return a.richTextInlineStyleMenuState==="visible-with-link"?n(a,e):o(a,e);case"rich_text_inline_style_button_pressed":return j(a,c("RichTextEditorUtil").toggleInlineStyle(h(e),b.style.toUpperCase()));case"rich_text_block_style_button_pressed":return j(a,i(c("RichTextEditorUtil").toggleBlockType(e,b.style)));case"rich_text_indent_button_pressed":return j(a,i(d("CometComposerDraftJsHelpers").indentSelectedListBlocks(e,"indent-more")));case"rich_text_unindent_button_pressed":return j(a,i(d("CometComposerDraftJsHelpers").indentSelectedListBlocks(e,"indent-less")));case"rich_text_url_editing_menu_state_update":return k(a,b.state);case"rich_text_unidash_widget_editing_menu_state_update":return l(a,b.state)}return a}function h(a){return a.getSelection().getHasFocus()?a:i(a)}function i(a){return c("EditorState").forceSelection(a,a.getSelection())}function j(a,b){var d;return((d=a.editorState)==null?void 0:d.__type)!=="editor-state-based"?a:babelHelpers["extends"]({},a,{editorState:babelHelpers["extends"]({},a.editorState,{draftEditorState:b})},c("cometComposerRichTextReduceFormattingType")(b))}function k(a,b){return a.richTextUnidashWidgetEditingMenuState==="visible"?babelHelpers["extends"]({},a):babelHelpers["extends"]({},a,{richTextUrlEditingMenuState:b})}function l(a,b){return a.richTextUrlEditingMenuState==="visible"?babelHelpers["extends"]({},a):babelHelpers["extends"]({},a,{richTextUnidashWidgetEditingMenuState:b})}function m(a,b,d){d=d.refs;var e=d.context,f=d.insertionToolbar;d=d.root;if(d.current==null||e.current==null)return a;var g=window.getSelection();g=(g==null?void 0:g.isCollapsed)===!1&&String(g).trim()!=="";b=c("RichTextEditorUtil").currentBlockContainsLink(b);e=g?c("getPositionNextToSelection")(d,e):a.richTextInlineStyleMenuPosition;var h="hidden";b?h="visible-with-link":g&&(h="visible-without-link");b=a.richTextUrlEditingMenuState==="visible"&&!g?"hidden":a.richTextUrlEditingMenuState;g=a.richTextUnidashWidgetEditingMenuState==="visible"&&!g?"hidden":a.richTextUnidashWidgetEditingMenuState;return p(babelHelpers["extends"]({},a,{richTextInlineStyleMenuPosition:e,richTextInlineStyleMenuState:h,richTextUrlEditingMenuState:b,richTextUnidashWidgetEditingMenuState:g}),d.current,f.current)}function n(a,b){b=c("RichTextEditorUtil").toggleLink(b,b.getSelection(),null);b=c("draftJsEditorStateMoveCursorToEndOfSelection")(b);return babelHelpers["extends"]({},j(a,b),{richTextInlineStyleMenuState:"hidden"})}function o(a,b){b=b.getSelection().isCollapsed()===!1;return babelHelpers["extends"]({},a,{richTextInlineStyleMenuState:b?"visible-with-link":a.richTextInlineStyleMenuState})}function p(a,b,c){var d;if(b==null||((d=a.editorState)==null?void 0:d.__type)!=="editor-state-based")return a;d=a.editorState.draftEditorState;return babelHelpers["extends"]({},a,{richTextBlockStyleMenuTopOffset:(d=q(d.getSelection(),b,c))!=null?d:a.richTextBlockStyleMenuTopOffset})}function q(a,b,c){var d,e=window.getSelection();a=(a==null?void 0:a.getIsBackward())===!0?e.focusNode:e.anchorNode;e=r(a);if(e==null||b==null)return 0;a=e.getBoundingClientRect();e=b.getBoundingClientRect();b=c==null?void 0:c.getBoundingClientRect();c=a.top-e.top;e=e.top;d=(d=b==null?void 0:b.height)!=null?d:0;b=(b=b==null?void 0:b.top)!=null?b:Infinity;a=a.height>s?0:Math.ceil((s-a.height)/2);if(a>c)return 0;c=c-a;a=e+c+t-b;return a>0&&a<t+d?c-a:c}function r(a){a=a;while(a!=null&&(!a.getAttribute||!a.getAttribute("data-block")))a=a.parentNode;return a instanceof HTMLElement?a:null}var s=32;b=8;var t=s+b;g["default"]=a}),98);
__d("CometComposerHyperlinkTextPlugin.react",["CometComposerRichTextReducer.react","geminiComposerRichTextReducer","react","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(){c("useComposerViewStateReducer")(c("CometComposerRichTextReducer.react"));c("useComposerViewStateReducer")(c("geminiComposerRichTextReducer"));return null}b=c("withComposerViewStatePart")(a,function(a){return a});g["default"]=b}),98);
__d("composerGratitudeTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a.gratitudeMetadata;return a!=null?c(babelHelpers["extends"]({},b,{gratitude_metadata:babelHelpers["extends"]({},a)})):c(b)}f["default"]=a}),66);
__d("CompositeDraftDecorator",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List,h=".";a=function(){function a(a){this.$1=a.slice()}var b=a.prototype;b.isCompositionOfDecorators=function(a){if(this.$1.length!==a.length)return!1;for(var b=0;b<a.length;b++)if(this.$1[b]!==a[b])return!1;return!0};b.getDecorators=function(){return this.$1};b.getDecorations=function(a,b){var c=Array(a.getText().length).fill(null);this.$1.forEach(function(d,e){var f=0;d=d.strategy;function g(a,b){i(c,a,b)&&(j(c,a,b,e+h+f),f++)}d(a,g,b)});return g(c)};b.getComponentForKey=function(a){a=parseInt(a.split(h)[0],10);return this.$1[a].component};b.getPropsForKey=function(a){a=parseInt(a.split(h)[0],10);return this.$1[a].props};return a}();function i(a,b,c){for(b=b;b<c;b++)if(a[b]!=null)return!1;return!0}function j(a,b,c,d){for(b=b;b<c;b++)a[b]=d}e.exports=a}),null);